
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FlowFate AI Chat</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex justify-center items-center min-h-screen p-4 overflow-hidden" role="main">

  <!-- Mobile-Responsive Chat UI -->
  <main class="w-full max-w-md bg-white rounded-3xl shadow-lg p-6 flex flex-col gap-4 h-[90vh]" aria-label="Chat interface">

    <!-- Header -->
    <header class="flex items-center gap-2" aria-label="Header">
      <div class="bg-gray-100 p-2 rounded-full">
        <img src="https://cdn-icons-png.flaticon.com/512/906/906349.png" class="h-6 w-6" alt="AI Icon" />
      </div>
      <span class="text-lg font-semibold" id="appTitle">FlowFate AI</span>
      <nav class="relative ml-auto" aria-label="User menu">
        <button id="profileBtn" aria-haspopup="true" aria-expanded="false" aria-controls="profileDropdown" class="bg-gray-200 text-xs w-8 h-8 rounded-full flex items-center justify-center font-medium focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2 focus:ring-offset-white transition-shadow" title="User Menu" tabindex="0">
          <span aria-label="User menu initial">M</span>
        </button>
        <div id="profileDropdown" class="hidden absolute right-0 mt-2 w-36 bg-white rounded-xl shadow-lg border border-gray-100 z-20 py-2" role="menu" aria-labelledby="profileBtn">
          <a href="dashboard.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-t-xl focus:bg-gray-200 focus:outline-none" role="menuitem" tabindex="0">Dashboard</a>
          <button id="logoutBtn" class="w-full text-left px-4 py-2 text-red-600 hover:bg-gray-100 rounded-b-xl focus:bg-red-200 focus:outline-none" role="menuitem" tabindex="0">Logout</button>
        </div>
      </nav>
    </header>



  <!-- Compact Icon Controls -->
  <nav class="flex justify-end gap-2 mb-1" aria-label="Chat controls">
    <button id="autoScrollToggle" class="p-2 rounded-full bg-gray-200 hover:bg-gray-300 transition-colors flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2" title="Toggle Auto-Scroll" aria-pressed="true" tabindex="0">
      <svg id="autoScrollIcon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
        <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="1.5" fill="#22c55e" id="autoScrollOnCircle" />
        <path d="M8 12l2 2 4-4" stroke="#fff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" id="autoScrollOnCheck" />
      </svg>
      <span class="sr-only">Toggle Auto-Scroll</span>
    </button>
    <button id="clearChatBtn" class="p-2 rounded-full bg-red-100 hover:bg-red-200 text-red-600 transition-colors flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2" title="Clear Chat" tabindex="0">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
      </svg>
      <span class="sr-only">Clear Chat</span>
    </button>
  </nav>


    <!-- Chat Section: All controls and input are now inside the chat area -->
    <section class="relative flex-1 flex flex-col h-full min-h-0" aria-label="Chat messages">
      <div id="chatBgIcon" class="absolute left-0 right-0 top-4 flex justify-center pointer-events-none z-0 transition-opacity duration-700 opacity-40" aria-hidden="true">
        <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-indigo-100 text-indigo-600 shadow" title="Chat Icon">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 3C7.03 3 3 6.58 3 11.01c0 2.13 1.06 4.07 2.82 5.5-.13.98-.56 2.36-1.7 3.13 0 0-.03.02-.03.04 0 .09.07.16.16.16.02 0 .04 0 .06-.01 1.38-.18 2.44-.95 3.13-1.5.97.28 2.01.44 3.13.44 4.97 0 9-3.58 9-8.01S16.97 3 12 3z" />
          </svg>
        </span>
      </div>
      <div id="chatBox" class="flex-1 flex flex-col gap-4 mt-4 text-sm overflow-y-auto relative z-10 w-full break-words min-h-0 max-h-none" style="word-break:break-word;overflow-wrap:break-word;overflow-x:auto;" role="log" aria-live="polite" aria-relevant="additions">
        <div class="flex flex-col items-center justify-center mt-12 mb-2" id="emptyChatMsg" aria-label="Empty chat message">
          <p class="text-base">Start a new conversation</p>
          <p class="text-xs">How can FlowFate AI assist you today?</p>
        </div>
        <!-- Typing/Loading Indicator -->
        <div id="typingIndicator" class="text-center text-xs text-gray-500 mt-2 hidden flex-col items-center justify-center" role="status" aria-live="polite">
          <span class="inline-flex items-center gap-2 justify-center">
            <svg class="animate-spin h-4 w-4 text-blue-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v8z"></path>
            </svg>
            FlowFate AI is typing...
          </span>
        </div>
      </div>
      <!-- Fixed bottom area for quick actions and input -->
      <div class="flex flex-col gap-0 mt-2">
        <nav class="flex justify-end mb-1" aria-label="Quick actions and help">
          <div class="flex gap-2 mb-2" role="group" aria-label="Notion quick actions">
            <button id="createNotionPageBtn" class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 text-black hover:bg-green-100 transition-colors focus:outline-none focus:ring-2 focus:ring-green-400 focus:ring-offset-2" title="Create Notion Page" aria-label="Create Notion Page" tabindex="0">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                <rect x="4" y="4" width="16" height="16" rx="3" stroke="currentColor" stroke-width="1.5" fill="#fff" />
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v8m-4-4h8" stroke="#22c55e" stroke-width="1.5" />
              </svg>
              <span class="sr-only">Create Notion Page</span>
            </button>
            <button id="showNotionFeedBtn" class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 text-indigo-600 hover:bg-indigo-200 transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-offset-2" title="Show Recent Notion Updates" aria-label="Show Recent Notion Updates" tabindex="0">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                <rect x="4" y="4" width="16" height="16" rx="3" stroke="currentColor" stroke-width="1.5" fill="#fff" />
                <path stroke-linecap="round" stroke-linejoin="round" d="M8 8h8M8 12h8M8 16h4" stroke="#6366f1" stroke-width="1.5" />
              </svg>
              <span class="sr-only">Show Notion Feed</span>
            </button>
          </div>
          <a href="help.html" class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 text-blue-500 hover:bg-blue-100 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2" title="Help" aria-label="Help" tabindex="0">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 18h.01M12 14.25V12a2.25 2.25 0 10-2.25-2.25" />
              <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="1.5" />
            </svg>
            <span class="sr-only">Help</span>
          </a>
        </nav>
        <form class="mt-0" role="search" aria-label="Chat input" onsubmit="event.preventDefault();handleUserInput();">
          <div class="flex items-center border rounded-xl overflow-hidden">
            <input type="text" placeholder="Reply to FlowFate AI" class="flex-1 px-4 py-3 text-sm outline-none focus:ring-2 focus:ring-blue-400" id="userInput" aria-label="Chat input" autocomplete="off" required />
            <label for="fileInput" class="cursor-pointer px-2 flex items-center h-full" title="Attach file" aria-label="Attach file" tabindex="0">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-gray-500 hover:text-blue-500 transition-colors">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-3A2.25 2.25 0 008.25 5.25V19.5a3.75 3.75 0 007.5 0V7.5a.75.75 0 00-1.5 0v12a2.25 2.25 0 11-4.5 0V5.25" />
              </svg>
              <span class="sr-only">Attach file</span>
            </label>
            <input type="file" id="fileInput" class="hidden" title="Choose a file to upload" aria-label="File upload" tabindex="0" />
            <button type="submit" class="px-4 text-blue-500 font-semibold focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2" aria-label="Send message" tabindex="0">âž¤</button>
          </div>
        </form>
      </div>
    </section>
  </main>

  <script src="javascript.js"></script>

</body>
</html>


